<!-- accounts/templates/dashboard.html -->
{% extends "accounts_base.html" %}
{% load static %}

{% block title %}Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø±Ú©Ø²ÛŒ{% endblock %}

{% block content %}
<div class="container-fluid py-4">

    <!-- Ù‡Ø¯Ø± Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
    <div class="dashboard-header">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="display-5 fw-bold">ğŸš€ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø±Ú©Ø²ÛŒ</h1>
                <p class="lead mb-0">Ù…Ø¯ÛŒØ±ÛŒØª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ ØªÙ…Ø§Ù… Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ø±Ú©Øª </p>
            </div>
            <div class="col-md-4 text-end">
                <div class="bg-white rounded-pill px-3 py-2 d-inline-block">
                    <small class="text-muted">Ú©Ø§Ø±Ø¨Ø±: {{request.user.get_full_name|default:request.user.username}}</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card text-white bg-success">
                <div class="card-body text-center">
                    <h3>{{ quick_stats.total_sales }}</h3>
                    <p>ØªØ±Ø§Ú©Ù†Ø´ ÙØ±ÙˆØ´</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-primary">
                <div class="card-body text-center">
                    <h3>{{ quick_stats.total_inventory }}</h3>
                    <p>Ø¢ÛŒØªÙ… Ù…ÙˆØ¬ÙˆØ¯ÛŒ</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-info">
                <div class="card-body text-center">
                    <h3>{{ quick_stats.active_containers }}</h3>
                    <p>Ú©Ø§Ù†ØªÛŒÙ†Ø± ÙØ¹Ø§Ù„</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white bg-warning">
                <div class="card-body text-center">
                    <h3>{{ quick_stats.pending_expenses }}</h3>
                    <p>Ù‡Ø²ÛŒÙ†Ù‡ Ù…Ø¹Ù„Ù‚</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø§Ù¾â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… -->
    <div class="row g-4">
        {% for app in apps %}
        <div class="col-xl-3 col-lg-4 col-md-6">
            <div class="dashboard-card bg-{{ app.color }} {% if app.active %}active{% else %}inactive{% endif %}" {% if apps.active %} onclick="window.location.href='{% url app.url %}'" {% endif %}>
                <div class="card-body text-center p-4">
                    <!-- Ø¢ÛŒÚ©ÙˆÙ† -->
                    <div class="app-icon">{{ app.icon }}</div>

                    <!-- Ø¹Ù†ÙˆØ§Ù† -->
                    <h5 class="card-title fw-bold mb-2">{{ app.name }}</h5>

                    <!-- ØªÙˆØ¶ÛŒØ­Ø§Øª -->
                    <p class="card-text text-muted small mb-3">{{ app.description }}</p>

                    <!-- ÙˆØ¶Ø¹ÛŒØª -->
                    <span
                        class="status-badge {% if app.active %}bg-success{% else %}bg-secondary{% endif %} text-white">
                        {% if app.active %}ÙØ¹Ø§Ù„{% else %}Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ{% endif %}
                    </span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}